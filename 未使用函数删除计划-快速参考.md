# æœªä½¿ç”¨å‡½æ•°åˆ é™¤è®¡åˆ’ - å¿«é€Ÿå‚è€ƒ

**ç‰ˆæœ¬**: v1.0 | **æ—¥æœŸ**: 2025-11-17

---

## ğŸ“Š ç»Ÿè®¡æ€»è§ˆ

```
æ€»æœªä½¿ç”¨å‡½æ•°:  42ä¸ª
å¯ç«‹å³åˆ é™¤:    27ä¸ª  (~320è¡Œä»£ç )
å»ºè®®ä¿ç•™:      10ä¸ª  (è®¾è®¡å®Œæ•´æ€§)
å¾…è¯„ä¼°:        5ä¸ª   (éœ€ç¡®è®¤)

é¢„æœŸæ”¶ç›Š:      å‡å°‘2.8%ä»£ç é‡ï¼Œé™ä½ç»´æŠ¤æˆæœ¬
```

---

## âœ… å¯åˆ é™¤å‡½æ•°æ¸…å•ï¼ˆ27ä¸ªï¼‰

### 1. AlgorithmContext (3ä¸ª)
- [ ] `value(const QString&, const QVariant&) const` - è¢«get<T>()æ›¿ä»£
- [ ] `values(const QString&) const` - æ— ä½¿ç”¨åœºæ™¯
- [ ] `clear()` - ä½¿ç”¨æ¨¡å¼ä¸éœ€è¦

### 2. AlgorithmManager (1ä¸ª)
- [ ] `executeWithContext(const QString&, AlgorithmContext*)` - è¢«executeAsync()æ›¿ä»£

### 3. HistoryManager (2ä¸ª)
- [ ] `undoCount() const` - ä¸canUndo()é‡å¤
- [ ] `redoCount() const` - ä¸canRedo()é‡å¤

### 4. AlgorithmResult (9ä¸ª)
- [ ] `addCurve(const ThermalCurve&)` - ç”¨setCurve()
- [ ] `primaryCurve() const` - ç”¨curves()
- [ ] `setMarkers(const QList<QPointF>&)` - ç”¨addMarker()
- [ ] `setRegions(const QList<QPolygonF>&)` - å¾…å®ç°åŠŸèƒ½
- [ ] `regions() const` - å¾…å®ç°åŠŸèƒ½
- [ ] `setPeakPosition(const QPointF&)` - ç”¨setMeta()
- [ ] `peakPosition() const` - ç”¨metaValue()
- [ ] `signalType() const` - ç”¨metaValue()
- [ ] `OutputKeys::historyResult(...)` - å¾…å®ç°åŠŸèƒ½

### 5. ThermalCurve (4ä¸ª)
- [ ] `plotStyle() const` - UIæ ·å¼ä¸åº”åœ¨æ¨¡å‹å±‚
- [ ] `setPlotStyle(PlotStyle)` - UIæ ·å¼ä¸åº”åœ¨æ¨¡å‹å±‚
- [ ] `setName(const QString&)` - æ„é€ å‡½æ•°è®¾ç½®ï¼Œæ— éœ€setter
- [ ] `resetToRaw()` - è¢«HistoryManageræ›¿ä»£

### 6. BaselineCorrectionAlgorithm (1ä¸ª)
- [ ] `findNearestPoint(...)` - æ—©æœŸè®¾è®¡é—ç•™

### 7. ChartView (2ä¸ª)
- [ ] `selectedPoints() const` - å®Œå…¨å†—ä½™
- [ ] `selectedPointsCurveId() const` - å®Œå…¨å†—ä½™

### 8. ThermalChart (4ä¸ª)
- [ ] `toggleXAxisMode()` - setXAxisMode()çš„é‡å¤åŒ…è£…
- [ ] `rescaleYAxisForXRange(...)` - åŠŸèƒ½å·²è¢«å…¶ä»–æ–¹å¼å®ç°
- [ ] `point1() const` - æœªä½¿ç”¨getter
- [ ] `point2() const` - æœªä½¿ç”¨getter

### 9. PeakAreaTool (3ä¸ª)
- [ ] `point1() const` - æœªä½¿ç”¨getter
- [ ] `point2() const` - æœªä½¿ç”¨getter
- [ ] `areaPolygon() const` - æš´éœ²å†…éƒ¨æ•°æ®ç»“æ„

### 10. TrapezoidMeasureTool (3ä¸ª)
- [ ] `point1() const` - æœªä½¿ç”¨getter
- [ ] `point2() const` - æœªä½¿ç”¨getter
- [ ] `updatePosition()` - å­¤ç«‹slotï¼Œæ— ä¿¡å·è¿æ¥

---

## âš ï¸ å»ºè®®ä¿ç•™å‡½æ•°ï¼ˆ10ä¸ªï¼‰

### HistoryManager (2ä¸ª)
- `setHistoryLimit(int)` - å…¬å…±é…ç½®API
- `historyLimit() const` - getter/setteré…å¯¹

### AlgorithmResult (2ä¸ª)
- `algorithmKey() const` - æ ¸å¿ƒå…ƒæ•°æ®
- `timestamp() const` - å®¡è®¡è¿½è¸ª

### ThermalCurve (1ä¸ª)
- `getRawData() const` - APIå¯¹ç§°æ€§

### ThermalChart (2ä¸ª)
- `setCustomTitles(...)` - å®Œæ•´APIè®¾è®¡
- `clearCustomTitles()` - ä¸setteré…å¯¹

### ThermalChart/ThermalChartView (3ä¸ª)
- `primaryAxisY() const` - æ ‡å‡†public getter
- `secondaryAxisY() const` - æ ‡å‡†public getter
- `thermalChart() const` - æ ‡å‡†getter

---

## ğŸ”„ å¾…è¯„ä¼°å‡½æ•°ï¼ˆ5ä¸ªï¼‰

### AlgorithmCoordinator (1ä¸ª)
- `handleParameterSubmission(...)` - å®éªŒæ€§æ¶æ„ï¼Œç­‰Phase 3è¯„ä¼°

### ChartView (4ä¸ª)
- `verticalCrosshairEnabled() const` - ç­‰åŸºçº¿æ ¡æ­£å®Œæˆåè¯„ä¼°
- `horizontalCrosshairEnabled() const` - ç­‰åŸºçº¿æ ¡æ­£å®Œæˆåè¯„ä¼°
- `interactionState() const` - ç­‰åŸºçº¿æ ¡æ­£å®Œæˆåè¯„ä¼°
- `activeAlgorithm() const` - ç­‰åŸºçº¿æ ¡æ­£å®Œæˆåè¯„ä¼°

---

## ğŸ¯ ä¸‰é˜¶æ®µæ‰§è¡Œè®¡åˆ’

### Phase 1: ä½é£é™©åˆ é™¤ï¼ˆç¬¬1å‘¨ï¼‰
**ç›®æ ‡**: 120è¡Œä»£ç 
- AlgorithmContext (3ä¸ª)
- AlgorithmManager (1ä¸ª)
- HistoryManager (2ä¸ª)
- BaselineCorrectionAlgorithm (1ä¸ª)

### Phase 2: ä¸­ç­‰é£é™©åˆ é™¤ï¼ˆç¬¬2å‘¨ï¼‰
**ç›®æ ‡**: 120è¡Œä»£ç 
- ThermalCurve (4ä¸ª)
- AlgorithmResult (9ä¸ª)
- PeakAreaTool (3ä¸ª)
- TrapezoidMeasureTool (3ä¸ª)

### Phase 3: UIå±‚åˆ é™¤ï¼ˆç¬¬3å‘¨ï¼‰
**ç›®æ ‡**: 80è¡Œä»£ç 
- ChartView (2ä¸ª)
- ThermalChart (4ä¸ª)
- CurveViewController (1ä¸ª)

---

## ğŸ”§ å¿«é€ŸéªŒè¯å‘½ä»¤

### éªŒè¯å‡½æ•°0æ¬¡è°ƒç”¨
```bash
# AlgorithmContext
grep -r "\.value(" --include="*.cpp" --include="*.h" | grep -v "algorithm_context"
grep -r "\.values(" --include="*.cpp" --include="*.h" | grep -v "algorithm_context"
grep -r "\.clear()" --include="*.cpp" --include="*.h" | grep -v "algorithm_context"

# AlgorithmManager
grep -r "executeWithContext" --include="*.cpp" --include="*.h" | grep -v "algorithm_manager"

# HistoryManager
grep -r "undoCount()" --include="*.cpp" --include="*.h"
grep -r "redoCount()" --include="*.cpp" --include="*.h"

# ThermalCurve
grep -r "\.plotStyle()" --include="*.cpp" --include="*.h"
grep -r "\.setPlotStyle(" --include="*.cpp" --include="*.h"
grep -r "\.setName(" --include="*.cpp" --include="*.h"
grep -r "\.resetToRaw()" --include="*.cpp" --include="*.h"

# BaselineCorrection
grep -r "findNearestPoint" --include="*.cpp" --include="*.h"
```

### ç¼–è¯‘éªŒè¯
```bash
cd Analysis
rebuild.bat
```

---

## ğŸ“‹ æ‰§è¡Œæ£€æŸ¥æ¸…å•

### åˆ é™¤å‰
- [ ] åˆ›å»ºå¤‡ä»½åˆ†æ”¯
- [ ] è¿è¡ŒéªŒè¯å‘½ä»¤
- [ ] ç¡®è®¤0æ¬¡è°ƒç”¨

### åˆ é™¤ä¸­
- [ ] åˆ é™¤å¤´æ–‡ä»¶å£°æ˜
- [ ] åˆ é™¤æºæ–‡ä»¶å®ç°
- [ ] ç¼–è¯‘éªŒè¯é€šè¿‡

### åˆ é™¤å
- [ ] åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æäº¤æ›´æ”¹
- [ ] æ¨é€åˆ°è¿œç¨‹

---

## ğŸ“ å…³é”®æ–‡ä»¶ä½ç½®

### AlgorithmContext
```
Analysis/src/application/algorithm/algorithm_context.h: 313, 358, 372
Analysis/src/application/algorithm/algorithm_context.cpp: 12-15, 42-52, 69-78
```

### AlgorithmManager
```
Analysis/src/application/algorithm/algorithm_manager.h: 56
Analysis/src/application/algorithm/algorithm_manager.cpp: 53-120
```

### ThermalCurve
```
Analysis/src/domain/model/thermal_curve.h: 84, 90, 98, 119
Analysis/src/domain/model/thermal_curve.cpp: 44, 52, 72, 80
```

### BaselineCorrectionAlgorithm
```
Analysis/src/infrastructure/algorithm/baseline_correction_algorithm.h: 63
Analysis/src/infrastructure/algorithm/baseline_correction_algorithm.cpp: 266-286
```

### PeakAreaTool
```
Analysis/src/ui/peak_area_tool.h: 105-128
```

### TrapezoidMeasureTool
```
Analysis/src/ui/trapezoid_measure_tool.h: 78-86, 140-143
Analysis/src/ui/trapezoid_measure_tool.cpp: 397-401
```

---

## âš ï¸ é£é™©ç­‰çº§

```
é£é™©çº§åˆ«: ä½
â”œâ”€ ç¼–è¯‘å¤±è´¥é£é™©:   æä½ (æ‰€æœ‰å‡½æ•°0è°ƒç”¨)
â”œâ”€ è¿è¡Œæ—¶é”™è¯¯é£é™©: æä½ (æ— ä¾èµ–å…³ç³»)
â””â”€ åŠŸèƒ½å½±å“é£é™©:   æ—    (æœªä½¿ç”¨åŠŸèƒ½)

ç¼“è§£æªæ–½:
âœ“ åˆ†é˜¶æ®µæ‰§è¡Œ
âœ“ æ¯æ¬¡ç¼–è¯‘éªŒè¯
âœ“ Gitç‰ˆæœ¬æ§åˆ¶
âœ“ å®Œæ•´å›å½’æµ‹è¯•
```

---

## ğŸ“ å‡ºç°é—®é¢˜æ—¶

1. **ç¼–è¯‘å¤±è´¥** â†’ æ£€æŸ¥éšè—ä¾èµ–ï¼ŒGitå›é€€
2. **æµ‹è¯•å¤±è´¥** â†’ åˆ†æåŸå› ï¼Œè€ƒè™‘ä¿ç•™
3. **ä¸ç¡®å®š** â†’ å‚è€ƒå®Œæ•´ç‰ˆåˆ é™¤è®¡åˆ’æ–‡æ¡£

---

**å¿«é€Ÿå‚è€ƒç»“æŸ - è¯¦è§ã€Šæœªä½¿ç”¨å‡½æ•°åˆ é™¤è®¡åˆ’.mdã€‹å®Œæ•´ç‰ˆ**
