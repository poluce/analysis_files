## ğŸ—ï¸ DSC/TGAçƒ­åˆ†æè½¯ä»¶ - æ¨¡å—åŒ–æ¶æ„è®¾è®¡

### ğŸ“‹ ä¸€ã€ç³»ç»Ÿæ¦‚è¿°

**ç³»ç»Ÿåç§°**: ThermalAnalysis (çƒ­åˆ†æè½¯ä»¶)
 **æ ¸å¿ƒåŠŸèƒ½**: DSC/TGAæ•°æ®é‡‡é›†ã€å¤„ç†ã€åˆ†æã€å¯è§†åŒ–
 **æŠ€æœ¯æ ˆ**: Qt 5.14.2 / Qt 6.8.2, C++17
 **æ¶æ„æ¨¡å¼**: åˆ†å±‚æ¶æ„ + MVC + æ’ä»¶åŒ–ç®—æ³•ç³»ç»Ÿ

------

## ğŸ§© äºŒã€æ¨¡å—åˆ’åˆ†(4å±‚æ¶æ„)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è¡¨ç¤ºå±‚ (Presentation Layer)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚MainWindowâ”‚  â”‚ChartView â”‚  â”‚ToolPanel â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ Signals/Slots
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åº”ç”¨å±‚ (Application Layer)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Controller   â”‚  â”‚ Serviceå±‚      â”‚               â”‚
â”‚  â”‚ - MainCtrl   â”‚  â”‚ - ProjectMgr  â”‚               â”‚
â”‚  â”‚ - ChartCtrl  â”‚  â”‚ - CurveMgr    â”‚               â”‚
â”‚  â”‚              â”‚  â”‚ - AlgorithmSvcâ”‚               â”‚
â”‚  â”‚              â”‚  â”‚ - HistoryMgr  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ ä¸šåŠ¡è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              é¢†åŸŸå±‚ (Domain Layer)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ æ•°æ®æ¨¡å‹     â”‚  â”‚ ç®—æ³•æ¥å£      â”‚               â”‚
â”‚  â”‚ - DataPoint  â”‚  â”‚ - IAlgorithm  â”‚               â”‚
â”‚  â”‚ - Curve      â”‚  â”‚ - ICommand    â”‚               â”‚
â”‚  â”‚ - Project    â”‚  â”‚               â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ ä¾èµ–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚FileIO    â”‚  â”‚Algorithm â”‚  â”‚Utility   â”‚          â”‚
â”‚  â”‚- Reader  â”‚  â”‚- å…·ä½“å®ç° â”‚  â”‚- æ•°æ®å¤„ç† â”‚          â”‚
â”‚  â”‚- Writer  â”‚  â”‚          â”‚  â”‚- æ¸²æŸ“ä¼˜åŒ– â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

------

## ğŸ“¦ ä¸‰ã€æ ¸å¿ƒæ¨¡å—è¯¦ç»†è®¾è®¡

### ğŸ”· 3.1 é¢†åŸŸå±‚ (Domain Layer)

**èŒè´£**: å®šä¹‰æ ¸å¿ƒä¸šåŠ¡å¯¹è±¡å’Œè§„åˆ™,ä¸ä¾èµ–ä»»ä½•å…¶ä»–å±‚

#### æ¨¡å—1: æ•°æ®æ¨¡å‹æ¨¡å—

```cpp
æ¨¡å—å: DataModel
ä½ç½®: src/domain/model/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ThermalDataPoint                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - double temperature            â”‚ æ¸©åº¦å€¼
â”‚ - double value                  â”‚ çƒ­æµ/è´¨é‡å€¼
â”‚ - double time                   â”‚ æ—¶é—´æˆ³
â”‚ - QVariantMap metadata          â”‚ æ‰©å±•å…ƒæ•°æ®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ThermalCurve                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - QString id                    â”‚ å”¯ä¸€æ ‡è¯†
â”‚ - QString name                  â”‚ æ›²çº¿åç§°
â”‚ - CurveType type                â”‚ DSC/TGA/DTG
â”‚ - QVector<DataPoint> rawData    â”‚ åŸå§‹æ•°æ®(åªè¯»)
â”‚ - QVector<DataPoint> processed  â”‚ å¤„ç†åæ•°æ®
â”‚ - CurveMetadata metadata        â”‚ å®éªŒå‚æ•°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + getRawData() const            â”‚
â”‚ + getProcessedData() const      â”‚
â”‚ + setProcessedData(...)         â”‚
â”‚ + resetToRaw()                  â”‚ æ¢å¤åŸå§‹æ•°æ®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ThermalProject                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - QString projectId             â”‚
â”‚ - QString projectName           â”‚
â”‚ - QList<ThermalCurve*> curves   â”‚
â”‚ - ProjectSettings settings      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + addCurve(...)                 â”‚
â”‚ + removeCurve(...)              â”‚
â”‚ + getCurve(id)                  â”‚
â”‚ + getAllCurves()                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. ThermalCurveå†…éƒ¨ç»´æŠ¤ä¸¤ä»½æ•°æ®:
   - rawData: åŠ è½½åä¸å¯å˜,ç”¨äºæ’¤é”€æ¢å¤
   - processedData: å¯ä¿®æ”¹,ç”¨äºæ˜¾ç¤ºå’Œè®¡ç®—
   
2. æ•°æ®ä¸å¯å˜æ€§ä¿è¯:
   - getRawData()è¿”å›constå¼•ç”¨
   - æ²¡æœ‰setRawData()æ–¹æ³•
   
3. æ‰©å±•æ€§:
   - ç”¨QVariantMapå­˜å‚¨å…ƒæ•°æ®,æ”¯æŒè‡ªå®šä¹‰å­—æ®µ
```

#### æ¨¡å—2: ç®—æ³•æ¥å£æ¨¡å—

```cpp
æ¨¡å—å: AlgorithmInterface
ä½ç½®: src/domain/algorithm/

æ ¸å¿ƒæ¥å£:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IThermalAlgorithm (æ¥å£)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + process(input) = 0            â”‚ çº¯è™šå‡½æ•°
â”‚ + name() const = 0              â”‚
â”‚ + category() const = 0          â”‚ ç®—æ³•åˆ†ç±»
â”‚ + parameters() const            â”‚ è¿”å›å‚æ•°å®šä¹‰
â”‚ + setParameter(key, value)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ICommand (æ¥å£)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + execute() = 0                 â”‚
â”‚ + undo() = 0                    â”‚
â”‚ + redo()                        â”‚ é»˜è®¤è°ƒç”¨execute
â”‚ + description() const = 0       â”‚
â”‚ + canUndo() const               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. ç®—æ³•æ¥å£æ”¯æŒå‚æ•°åŒ–:
   - parameters()è¿”å›ç®—æ³•éœ€è¦çš„å‚æ•°åˆ—è¡¨
   - ä¾‹å¦‚: å¹³æ»‘ç®—æ³•éœ€è¦"çª—å£å¤§å°"å‚æ•°
   
2. å‘½ä»¤æ¨¡å¼æ¥å£:
   - æ‰€æœ‰ä¿®æ”¹æ•°æ®çš„æ“ä½œéƒ½å°è£…ä¸ºCommand
   - å¤©ç„¶æ”¯æŒæ’¤é”€/é‡åš
```

------

### ğŸ”· 3.2 åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)

**èŒè´£**: æä¾›æŠ€æœ¯æ”¯æŒ,ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘

#### æ¨¡å—3: æ–‡ä»¶IOæ¨¡å—

```cpp
æ¨¡å—å: FileIO
ä½ç½®: src/infrastructure/io/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IFileReader (æ¥å£)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + canRead(filePath) = 0         â”‚ åˆ¤æ–­æ˜¯å¦æ”¯æŒ
â”‚ + read(filePath) = 0            â”‚ è¿”å›ThermalCurve
â”‚ + supportedFormats() = 0        â”‚ è¿”å›æ”¯æŒçš„æ ¼å¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DSCFileReader : IFileReader     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + canRead(...)                  â”‚ æ£€æŸ¥æ–‡ä»¶å¤´
â”‚ + read(...)                     â”‚ è§£æDSCæ ¼å¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TGAFileReader : IFileReader     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + canRead(...)                  â”‚
â”‚ + read(...)                     â”‚ è§£æTGAæ ¼å¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FileReaderFactory               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - QList<IFileReader*> readers   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + registerReader(...)           â”‚ æ³¨å†Œè¯»å–å™¨
â”‚ + getReader(filePath)           â”‚ è‡ªåŠ¨é€‰æ‹©è¯»å–å™¨
â”‚ + supportedFormats()            â”‚ è¿”å›æ‰€æœ‰æ”¯æŒæ ¼å¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. ç­–ç•¥æ¨¡å¼: æ¯ç§æ–‡ä»¶æ ¼å¼ä¸€ä¸ªReader
2. å·¥å‚æ¨¡å¼: Factoryè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„Reader
3. å¯æ‰©å±•: æ–°å¢æ ¼å¼åªéœ€å®ç°IFileReaderå¹¶æ³¨å†Œ
```

#### æ¨¡å—4: ç®—æ³•å®ç°æ¨¡å—

```cpp
æ¨¡å—å: AlgorithmImpl
ä½ç½®: src/infrastructure/algorithm/

å…·ä½“ç®—æ³•ç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BaselineCorrector               â”‚
â”‚  : IThermalAlgorithm            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - BaselineType type             â”‚ çº¿æ€§/å¤šé¡¹å¼/æ ·æ¡
â”‚ - int polynomialOrder           â”‚ å¤šé¡¹å¼é˜¶æ•°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + process(input)                â”‚
â”‚ + name() = "BaselineCorrection" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SmoothingAlgorithm              â”‚
â”‚  : IThermalAlgorithm            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - int windowSize                â”‚ å¹³æ»‘çª—å£
â”‚ - SmoothType type               â”‚ ç§»åŠ¨å¹³å‡/SGæ»¤æ³¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + process(input)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PeakDetector                    â”‚
â”‚  : IThermalAlgorithm            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - double threshold              â”‚ å³°å€¼é˜ˆå€¼
â”‚ - int minPeakWidth              â”‚ æœ€å°å³°å®½
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + detectPeaks(input)            â”‚ è¿”å›å³°åˆ—è¡¨
â”‚ + calculatePeakArea(...)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ KineticsCalculator              â”‚
â”‚  : IThermalAlgorithm            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + calculateActivationEnergy()   â”‚ æ´»åŒ–èƒ½
â”‚ + calculatePreExponential()     â”‚ æŒ‡å‰å› å­
â”‚ + isoConversionalMethod()       â”‚ ç­‰è½¬åŒ–ç‡æ³•
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç®—æ³•åˆ†ç±»:
- é¢„å¤„ç†ç±»: Baseline, Smoothing, Normalization
- åˆ†æç±»: PeakDetection, Integration, Differentiation
- åŠ¨åŠ›å­¦ç±»: Kinetics, ModelFitting
- æ¯”è¾ƒç±»: CurveSubtraction, Overlay
```

#### æ¨¡å—5: æ•°æ®å¤„ç†å·¥å…·æ¨¡å—

```cpp
æ¨¡å—å: DataUtility
ä½ç½®: src/infrastructure/utility/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DataDecimator                   â”‚ æ•°æ®æŠ½ç¨€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + decimate(data, maxPoints)     â”‚ é“æ ¼æ‹‰æ–¯-æ™®å…‹ç®—æ³•
â”‚ + decimateByZoom(data, range)   â”‚ æ ¹æ®å¯è§†èŒƒå›´
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DataInterpolator                â”‚ æ•°æ®æ’å€¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + linearInterpolate(...)        â”‚
â”‚ + splineInterpolate(...)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ StatisticsCalculator            â”‚ ç»Ÿè®¡è®¡ç®—
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + mean(data)                    â”‚
â”‚ + stddev(data)                  â”‚
â”‚ + findExtrema(data)             â”‚ æ‰¾æå€¼ç‚¹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

------

### ğŸ”· 3.3 åº”ç”¨å±‚ (Application Layer)

**èŒè´£**: åè°ƒä¸šåŠ¡æµç¨‹,è¿æ¥UIå’Œä¸šåŠ¡é€»è¾‘

#### æ¨¡å—6: é¡¹ç›®ç®¡ç†æ¨¡å—

```cpp
æ¨¡å—å: ProjectManagement
ä½ç½®: src/application/project/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ProjectManager (å•ä¾‹)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ThermalProject* current       â”‚ å½“å‰é¡¹ç›®
â”‚ - QList<Project*> recentProjectsâ”‚ æœ€è¿‘é¡¹ç›®åˆ—è¡¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + createNewProject()            â”‚
â”‚ + openProject(path)             â”‚
â”‚ + saveProject()                 â”‚
â”‚ + saveProjectAs(path)           â”‚
â”‚ + closeProject()                â”‚
â”‚ + currentProject()              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ signals:                        â”‚
â”‚ - projectOpened(project)        â”‚
â”‚ - projectClosed()               â”‚
â”‚ - projectModified()             â”‚
â”‚ - projectSaved()                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. å•ä¾‹æ¨¡å¼: å…¨å±€å”¯ä¸€çš„é¡¹ç›®ç®¡ç†å™¨
2. é¡¹ç›®æ–‡ä»¶æ ¼å¼: JSONæˆ–XML,åŒ…å«:
   - é¡¹ç›®å…ƒæ•°æ®
   - æ›²çº¿åˆ—è¡¨(å¼•ç”¨)
   - å¤„ç†å†å²
   - åˆ†æç»“æœ
```

#### æ¨¡å—7: æ›²çº¿ç®¡ç†æ¨¡å—

```cpp
æ¨¡å—å: CurveManagement
ä½ç½®: src/application/curve/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CurveManager (å•ä¾‹)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - QString activeCurveId         â”‚ å½“å‰æ¿€æ´»æ›²çº¿
â”‚ - QMap<QString, Curve*> curves  â”‚ æ‰€æœ‰æ›²çº¿
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + loadCurveFromFile(path)       â”‚ å¼‚æ­¥åŠ è½½
â”‚ + createCurve(...)              â”‚
â”‚ + removeCurve(id)               â”‚
â”‚ + setActiveCurve(id)            â”‚
â”‚ + getActiveCurve()              â”‚
â”‚ + getCurve(id)                  â”‚
â”‚ + getAllCurves()                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ signals:                        â”‚
â”‚ - curveLoaded(id)               â”‚
â”‚ - curveRemoved(id)              â”‚
â”‚ - activeCurveChanged(id)        â”‚
â”‚ - curveDataChanged(id)          â”‚ æ•°æ®è¢«ä¿®æ”¹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. æ‰€æœ‰æ›²çº¿æ•°æ®çš„ç»Ÿä¸€å…¥å£
2. ä¿¡å·é€šçŸ¥æœºåˆ¶,æ•°æ®å˜åŒ–è‡ªåŠ¨é€šçŸ¥UI
3. å¼‚æ­¥åŠ è½½å¤§æ–‡ä»¶,é¿å…é˜»å¡
```

#### æ¨¡å—8: ç®—æ³•æœåŠ¡æ¨¡å—

```cpp
æ¨¡å—å: AlgorithmService
ä½ç½®: src/application/algorithm/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AlgorithmService (å•ä¾‹)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - QMap<QString, IAlgorithm*>    â”‚ ç®—æ³•æ³¨å†Œè¡¨
â”‚ - QThreadPool* threadPool       â”‚ çº¿ç¨‹æ± 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + registerAlgorithm(name, algo) â”‚
â”‚ + getAlgorithm(name)            â”‚
â”‚ + getAllAlgorithms()            â”‚
â”‚ + executeAsync(name, curveId,   â”‚ å¼‚æ­¥æ‰§è¡Œ
â”‚                input, params)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ signals:                        â”‚
â”‚ - algorithmStarted(name)        â”‚
â”‚ - algorithmProgress(percent)    â”‚
â”‚ - algorithmFinished(curveId,    â”‚
â”‚                     result)     â”‚
â”‚ - algorithmFailed(error)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AlgorithmTask : QRunnable       â”‚ å¼‚æ­¥ä»»åŠ¡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - IAlgorithm* algorithm         â”‚
â”‚ - QVector<DataPoint> input      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + run()                         â”‚ çº¿ç¨‹æ± æ‰§è¡Œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. å¼‚æ­¥æ‰§è¡Œ,ä¸é˜»å¡UIçº¿ç¨‹
2. è¿›åº¦åé¦ˆæœºåˆ¶
3. æ’ä»¶å¼ç®—æ³•æ³¨å†Œ,æ˜“äºæ‰©å±•
```

#### æ¨¡å—9: å†å²ç®¡ç†æ¨¡å—

```cpp
æ¨¡å—å: HistoryManagement
ä½ç½®: src/application/history/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HistoryManager (å•ä¾‹)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - QStack<ICommand*> undoStack   â”‚
â”‚ - QStack<ICommand*> redoStack   â”‚
â”‚ - int maxHistorySize            â”‚ æœ€å¤§å†å²è®°å½•æ•°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + execute(command)              â”‚ æ‰§è¡Œå¹¶å…¥æ ˆ
â”‚ + undo()                        â”‚
â”‚ + redo()                        â”‚
â”‚ + canUndo() const               â”‚
â”‚ + canRedo() const               â”‚
â”‚ + clear()                       â”‚
â”‚ + getUndoList()                 â”‚ æ’¤é”€åˆ—è¡¨
â”‚ + getRedoList()                 â”‚ é‡åšåˆ—è¡¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ signals:                        â”‚
â”‚ - historyChanged()              â”‚
â”‚ - commandExecuted(desc)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AlgorithmCommand : ICommand     â”‚ ç®—æ³•å‘½ä»¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ThermalCurve* curve           â”‚
â”‚ - QString algorithmName         â”‚
â”‚ - QVector<DataPoint> oldData    â”‚ ä¿å­˜æ—§æ•°æ®
â”‚ - QVector<DataPoint> newData    â”‚ ä¿å­˜æ–°æ•°æ®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + execute()                     â”‚ æ‰§è¡Œç®—æ³•
â”‚ + undo()                        â”‚ æ¢å¤æ—§æ•°æ®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. å‘½ä»¤æ¨¡å¼å®ç°æ’¤é”€/é‡åš
2. é™åˆ¶å†å²è®°å½•æ•°é‡,é¿å…å†…å­˜æº¢å‡º
3. æ‰€æœ‰ä¿®æ”¹æ“ä½œéƒ½å°è£…ä¸ºCommand
```

------

### ğŸ”· 3.4 è¡¨ç¤ºå±‚ (Presentation Layer)

**èŒè´£**: ç”¨æˆ·ç•Œé¢æ˜¾ç¤ºå’Œäº¤äº’,ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘

#### æ¨¡å—10: ä¸»ç•Œé¢æ¨¡å—

```cpp
æ¨¡å—å: MainUI
ä½ç½®: src/ui/main/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MainWindow : QMainWindow        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ThermalChartView* chartView   â”‚
â”‚ - QDockWidget* curveListDock    â”‚
â”‚ - QDockWidget* propertyDock     â”‚
â”‚ - QToolBar* toolBar             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + setupUI()                     â”‚
â”‚ + updateCurveList()             â”‚
â”‚ + setStatusMessage(msg)         â”‚
â”‚ + showProgress(msg)             â”‚
â”‚ + hideProgress()                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ signals:                        â”‚
â”‚ - openFileRequested()           â”‚
â”‚ - saveProjectRequested()        â”‚
â”‚ - algorithmRequested(name)      â”‚
â”‚ - undoRequested()               â”‚
â”‚ - redoRequested()               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. MainWindowåªè´Ÿè´£UIå¸ƒå±€å’Œäº‹ä»¶å‘å°„
2. æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ç”±Controllerå¤„ç†
3. é€šè¿‡ä¿¡å·ä¸Controllerè§£è€¦
```

#### æ¨¡å—11: å›¾è¡¨æ˜¾ç¤ºæ¨¡å—

```cpp
æ¨¡å—å: ChartVisualization
ä½ç½®: src/ui/chart/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ThermalChartView : QChartView   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - QChart* chart                 â”‚
â”‚ - QMap<QString, Series*> series â”‚ å¤šæ›²çº¿
â”‚ - ChartDataAdapter* adapter     â”‚ æ•°æ®é€‚é…
â”‚ - SelectionRect* selection      â”‚ é€‰æ‹©æ¡†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + addCurve(id, data, color)     â”‚
â”‚ + updateCurve(id, data)         â”‚
â”‚ + removeCurve(id)               â”‚
â”‚ + enableSelection(bool)         â”‚
â”‚ + setVisibleRange(xMin, xMax)   â”‚
â”‚ + exportImage(path)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ signals:                        â”‚
â”‚ - regionSelected(id, start, end)â”‚
â”‚ - pointClicked(id, index)       â”‚
â”‚ - zoomChanged(xMin, xMax)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ChartDataAdapter                â”‚ æ•°æ®é€‚é…å™¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + getDisplayData(source, range, â”‚ æ ¹æ®ç¼©æ”¾çº§åˆ«
â”‚                  maxPoints)     â”‚ è‡ªåŠ¨æŠ½ç¨€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. æ•°æ®é€‚é…å™¨å®ç°LOD(ç»†èŠ‚å±‚æ¬¡)
2. å¤§æ•°æ®é‡æ—¶è‡ªåŠ¨æŠ½ç¨€,ä¿è¯æµç•…æ€§
3. æ”¯æŒå¤šæ›²çº¿å åŠ æ˜¾ç¤º
4. äº¤äº’é€‰æ‹©åŒºåŸŸ,å‘å°„ä¿¡å·ç»™Controller
```

#### æ¨¡å—12: æ§åˆ¶å™¨æ¨¡å—

```cpp
æ¨¡å—å: Controller
ä½ç½®: src/ui/controller/

æ ¸å¿ƒç±»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MainController : QObject        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ProjectManager* projectMgr    â”‚ (ä¾èµ–æ³¨å…¥)
â”‚ - CurveManager* curveMgr        â”‚ (ä¾èµ–æ³¨å…¥)
â”‚ - AlgorithmService* algoSvc     â”‚ (ä¾èµ–æ³¨å…¥)
â”‚ - HistoryManager* history       â”‚ (ä¾èµ–æ³¨å…¥)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + MainController(services...)   â”‚ æ„é€ æ—¶æ³¨å…¥æœåŠ¡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ private slots:                  â”‚
â”‚ - onOpenFile()                  â”‚ æ–‡ä»¶æ“ä½œ
â”‚ - onSaveProject()               â”‚
â”‚ - onBaselineCorrection()        â”‚ ç®—æ³•æ“ä½œ
â”‚ - onSmoothing()                 â”‚
â”‚ - onPeakDetection()             â”‚
â”‚ - onUndo()                      â”‚ å†å²æ“ä½œ
â”‚ - onRedo()                      â”‚
â”‚ - onCurveDataChanged(id)        â”‚ æ•°æ®å˜åŒ–
â”‚ - onAlgorithmFinished(...)      â”‚ ç®—æ³•å®Œæˆ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¾è®¡è¦ç‚¹:
1. MVCæ¨¡å¼çš„C (Controller)
2. åœ¨åº”ç”¨å¯åŠ¨æ—¶è¿æ¥Viewçš„ä¿¡å·åˆ°æ§½å‡½æ•°
3. åè°ƒå„ä¸ªManagerå’ŒService
4. ä¸åŒ…å«å…·ä½“çš„ç®—æ³•å®ç°,ä¸ç›´æ¥æŒæœ‰ViewæŒ‡é’ˆ
```

------

## ğŸ“Š å››ã€æ¨¡å—ä¾èµ–å…³ç³»

```
         [MainWindow] â”€â”€signalsâ”€â”€> [MainController]
              â”‚                          â”‚
              â”‚                          â”‚ è°ƒç”¨
              â†“                          â†“
      [ThermalChartView]         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚  Managers    â”‚
                                 â”‚  - Project   â”‚
                                 â”‚  - Curve     â”‚
                                 â”‚  - Algorithm â”‚
                                 â”‚  - History   â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚ æ“ä½œ
                                        â†“
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚ Domain Model â”‚
                                 â”‚  - Curve     â”‚
                                 â”‚  - Project   â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚ ä½¿ç”¨
                                        â†“
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚Infrastructureâ”‚
                                 â”‚  - FileIO    â”‚
                                 â”‚  - Algorithm â”‚
                                 â”‚  - Utility   â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¾èµ–è§„åˆ™:
âœ… ä¸Šå±‚å¯ä»¥ä¾èµ–ä¸‹å±‚
âŒ ä¸‹å±‚ä¸èƒ½ä¾èµ–ä¸Šå±‚
âœ… åŒå±‚ä¹‹é—´é€šè¿‡æ¥å£ä¾èµ–
```

------

## ğŸ”Œ äº”ã€æ¨¡å—é—´é€šä¿¡æœºåˆ¶

### 5.1 ä¿¡å·æ§½æœºåˆ¶ (Qt Signals/Slots)

```cpp
// UI â†’ Controller: ç”¨æˆ·æ“ä½œ
MainWindow::openFileRequested() 
    â†’ MainController::onOpenFile()

// Manager â†’ Controller: çŠ¶æ€å˜åŒ–
CurveManager::curveDataChanged(id) 
    â†’ MainController::onCurveDataChanged(id)
    â†’ MainWindow::updateChart()

// Service â†’ Controller: å¼‚æ­¥ç»“æœ
AlgorithmService::algorithmFinished(id, result)
    â†’ MainController::onAlgorithmFinished(...)
```

### 5.2 ç›´æ¥è°ƒç”¨ (åŒæ­¥æ“ä½œ)

```cpp
// Controller è°ƒç”¨ Manager
auto curve = curveMgr->getActiveCurve();
projectMgr->saveProject();

// Manager è°ƒç”¨ Domain
curve->setProcessedData(newData);
```

### 5.3 äº‹ä»¶é©±åŠ¨ (å¼‚æ­¥æ“ä½œ)

```cpp
// ç®—æ³•æœåŠ¡ä½¿ç”¨çº¿ç¨‹æ± 
algoService->executeAsync(algoName, curveId, data);
    â†’ AlgorithmTaskåœ¨å·¥ä½œçº¿ç¨‹æ‰§è¡Œ
    â†’ å®Œæˆåå‘å°„ä¿¡å·å›ä¸»çº¿ç¨‹
```

------

## ğŸ“ å…­ã€ç›®å½•ç»“æ„

```
ThermalAnalysis/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ domain/                    # é¢†åŸŸå±‚
â”‚   â”‚   â”œâ”€â”€ model/                 # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalDataPoint.h/cpp
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalCurve.h/cpp
â”‚   â”‚   â”‚   â””â”€â”€ ThermalProject.h/cpp
â”‚   â”‚   â””â”€â”€ algorithm/             # ç®—æ³•æ¥å£
â”‚   â”‚       â”œâ”€â”€ IThermalAlgorithm.h
â”‚   â”‚       â””â”€â”€ ICommand.h
â”‚   â”‚
â”‚   â”œâ”€â”€ infrastructure/            # åŸºç¡€è®¾æ–½å±‚
â”‚   â”‚   â”œâ”€â”€ io/                    # æ–‡ä»¶IO
â”‚   â”‚   â”‚   â”œâ”€â”€ IFileReader.h
â”‚   â”‚   â”‚   â”œâ”€â”€ DSCFileReader.h/cpp
â”‚   â”‚   â”‚   â”œâ”€â”€ TGAFileReader.h/cpp
â”‚   â”‚   â”‚   â””â”€â”€ FileReaderFactory.h/cpp
â”‚   â”‚   â”œâ”€â”€ algorithm/             # ç®—æ³•å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ BaselineCorrector.h/cpp
â”‚   â”‚   â”‚   â”œâ”€â”€ SmoothingAlgorithm.h/cpp
â”‚   â”‚   â”‚   â”œâ”€â”€ PeakDetector.h/cpp
â”‚   â”‚   â”‚   â””â”€â”€ KineticsCalculator.h/cpp
â”‚   â”‚   â””â”€â”€ utility/               # å·¥å…·ç±»
â”‚   â”‚       â”œâ”€â”€ DataDecimator.h/cpp
â”‚   â”‚       â”œâ”€â”€ DataInterpolator.h/cpp
â”‚   â”‚       â””â”€â”€ StatisticsCalculator.h/cpp
â”‚   â”‚
â”‚   â”œâ”€â”€ application/               # åº”ç”¨å±‚
â”‚   â”‚   â”œâ”€â”€ project/               # é¡¹ç›®ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ ProjectManager.h/cpp
â”‚   â”‚   â”œâ”€â”€ curve/                 # æ›²çº¿ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ CurveManager.h/cpp
â”‚   â”‚   â”œâ”€â”€ algorithm/             # ç®—æ³•æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ AlgorithmService.h/cpp
â”‚   â”‚   â”‚   â””â”€â”€ AlgorithmTask.h/cpp
â”‚   â”‚   â””â”€â”€ history/               # å†å²ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ CommandHistory.h/cpp
â”‚   â”‚       â””â”€â”€ AlgorithmCommand.h/cpp
â”‚   â”‚
â”‚   â”œâ”€â”€ ui/                        # è¡¨ç¤ºå±‚
â”‚   â”‚   â”œâ”€â”€ main/                  # ä¸»ç•Œé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ MainWindow.h/cpp/ui
â”‚   â”‚   â”‚   â””â”€â”€ MainController.h/cpp
â”‚   â”‚   â”œâ”€â”€ chart/                 # å›¾è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalChartView.h/cpp
â”‚   â”‚   â”‚   â””â”€â”€ ChartDataAdapter.h/cpp
â”‚   â”‚   â””â”€â”€ dialogs/               # å¯¹è¯æ¡†
â”‚   â”‚       â”œâ”€â”€ AlgorithmDialog.h/cpp/ui
â”‚   â”‚       â””â”€â”€ ProjectSettingsDialog.h/cpp/ui
â”‚   â”‚
â”‚   â””â”€â”€ main.cpp                   # å…¥å£
â”‚
â”œâ”€â”€ tests/                         # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ infrastructure/
â”‚   â””â”€â”€ application/
â”‚
â”œâ”€â”€ docs/                          # æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md            # æ¶æ„æ–‡æ¡£(æœ¬æ–‡æ¡£)
â”‚   â”œâ”€â”€ api.md                     # APIæ–‡æ¡£
â”‚   â””â”€â”€ user_manual.md             # ç”¨æˆ·æ‰‹å†Œ
â”‚
â”œâ”€â”€ resources/                     # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ qss/                       # æ ·å¼è¡¨
â”‚
â”œâ”€â”€ CMakeLists.txt                 # æ„å»ºé…ç½®
â””â”€â”€ README.md
```

------

## ğŸ¯ ä¸ƒã€æ‰©å±•æ€§è®¾è®¡

### 7.1 æ–°å¢æ–‡ä»¶æ ¼å¼

```cpp
// æ­¥éª¤1: å®ç°IFileReaderæ¥å£
class NewFormatReader : public IFileReader {
    bool canRead(const QString& path) override;
    ThermalCurve read(const QString& path) override;
};

// æ­¥éª¤2: æ³¨å†Œåˆ°Factory
FileReaderFactory::instance()->registerReader(
    new NewFormatReader()
);

// æ— éœ€ä¿®æ”¹ä»»ä½•ç°æœ‰ä»£ç !
```

### 7.2 æ–°å¢ç®—æ³•

```cpp
// æ­¥éª¤1: å®ç°IThermalAlgorithmæ¥å£
class NewAlgorithm : public IThermalAlgorithm {
    QVector<ThermalDataPoint> process(...) override;
    QString name() const override { return "NewAlgo"; }
};

// æ­¥éª¤2: æ³¨å†Œåˆ°Service
AlgorithmService::instance()->registerAlgorithm(
    "NewAlgo",
    new NewAlgorithm()
);

// æ­¥éª¤3: (å¯é€‰)åœ¨UIæ·»åŠ èœå•é¡¹
// è¿æ¥åˆ° MainController::onAlgorithmRequested("NewAlgo")

// æ’¤é”€åŠŸèƒ½è‡ªåŠ¨æ”¯æŒ!
```

### 7.3 æ–°å¢æ˜¾ç¤ºæ–¹å¼

```cpp
// ä¾‹å¦‚: æ–°å¢3Dçƒ­å›¾æ˜¾ç¤º
class ThermalHeatmapView : public QWidget {
    void setData(const ThermalCurve* curve);
    // ... å®ç°
};

// åœ¨MainWindowä¸­æ·»åŠ 
// Controlleré€»è¾‘æ— éœ€æ”¹å˜
```

------

## âš™ï¸ å…«ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 8.1 å¤§æ•°æ®å¤„ç†

```
é—®é¢˜: 30ä¸‡æ•°æ®ç‚¹åŠ è½½å’Œæ˜¾ç¤º
è§£å†³æ–¹æ¡ˆ:
1. å¼‚æ­¥åŠ è½½ - å·¥ä½œçº¿ç¨‹è¯»å–æ–‡ä»¶
2. æ•°æ®æŠ½ç¨€ - ChartDataAdapteræ ¹æ®ç¼©æ”¾åŠ¨æ€æŠ½ç¨€
3. LODç­–ç•¥ - è¿œçœ‹ç”¨1000ç‚¹,è¿‘çœ‹ç”¨å®Œæ•´æ•°æ®
4. è§†å£è£å‰ª - åªæ¸²æŸ“å¯è§èŒƒå›´
```

### 8.2 ç®—æ³•æ€§èƒ½

```
é—®é¢˜: å¤æ‚ç®—æ³•è€—æ—¶é•¿
è§£å†³æ–¹æ¡ˆ:
1. å¼‚æ­¥æ‰§è¡Œ - AlgorithmTaskåœ¨çº¿ç¨‹æ± è¿è¡Œ
2. è¿›åº¦åé¦ˆ - ç®—æ³•å†…éƒ¨å‘å°„è¿›åº¦ä¿¡å·
3. å¯ä¸­æ–­ - ç®—æ³•æ£€æŸ¥ä¸­æ–­æ ‡å¿—
4. ç¼“å­˜ç»“æœ - ç›¸åŒå‚æ•°ä¸é‡å¤è®¡ç®—
```

### 8.3 å†…å­˜ç®¡ç†

```
é—®é¢˜: å¤šæ¡æ›²çº¿å ç”¨å†…å­˜å¤§
è§£å†³æ–¹æ¡ˆ:
1. éšå¼å…±äº« - ä½¿ç”¨QVector(è‡ªåŠ¨å†™æ—¶å¤åˆ¶)
2. æ™ºèƒ½æŒ‡é’ˆ - è‡ªåŠ¨ç®¡ç†ThermalCurveç”Ÿå‘½å‘¨æœŸ
3. æ‡’åŠ è½½ - æ›²çº¿æ•°æ®æŒ‰éœ€åŠ è½½
4. å†å²é™åˆ¶ - CommandHistoryé™åˆ¶æ ˆæ·±åº¦
```

------

## âœ… ä¹ã€è®¾è®¡åŸåˆ™æ€»ç»“

è¿™ä¸ªæ¶æ„éµå¾ªäº†ä»¥ä¸‹è®¾è®¡åŸåˆ™:

1. **å•ä¸€èŒè´£åŸåˆ™ (SRP)**
   - æ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä»¶äº‹
   - ThermalCurveåªç®¡æ•°æ®,ä¸ç®¡æ˜¾ç¤º
   - ThermalChartViewåªç®¡æ˜¾ç¤º,ä¸ç®¡è®¡ç®—
2. **å¼€é—­åŸåˆ™ (OCP)**
   - å¯¹æ‰©å±•å¼€æ”¾:æ–°å¢ç®—æ³•/æ ¼å¼æ— éœ€æ”¹ä»£ç 
   - å¯¹ä¿®æ”¹å…³é—­:æ ¸å¿ƒæ¥å£ç¨³å®š
3. **ä¾èµ–å€’ç½®åŸåˆ™ (DIP)**
   - ä¾èµ–æŠ½è±¡(IThermalAlgorithm),ä¸ä¾èµ–å…·ä½“
   - Controllerä¾èµ–IManageræ¥å£,ä¸ä¾èµ–å…·ä½“å®ç°
4. **æ¥å£éš”ç¦»åŸåˆ™ (ISP)**
   - æ¥å£å°è€Œä¸“:IFileReader, IThermalAlgorithm
   - å®¢æˆ·ç«¯ä¸ä¾èµ–ä¸éœ€è¦çš„æ¥å£
5. **è¿ªç±³ç‰¹æ³•åˆ™ (LoD)**
   - MainWindowä¸ç›´æ¥è®¿é—®ThermalCurve
   - é€šè¿‡Controllerå’ŒManageré—´æ¥è®¿é—®

------

## ğŸ“ åã€æ€»ç»“

è¿™ä¸ªæ¶æ„è®¾è®¡å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹:

âœ… **æ¨¡å—åŒ–æ¸…æ™°** - 4å±‚æ¶æ„,èŒè´£æ˜ç¡®
 âœ… **é«˜å†…èšä½è€¦åˆ** - æ¨¡å—ç‹¬ç«‹,æ¥å£ç®€æ´
 âœ… **æ˜“äºæ‰©å±•** - æ’ä»¶å¼ç®—æ³•,æ–°å¢åŠŸèƒ½ä¸æ”¹æ—§ä»£ç 
 âœ… **æ˜“äºæµ‹è¯•** - æ¯ä¸ªæ¨¡å—å¯ç‹¬ç«‹æµ‹è¯•
 âœ… **æ”¯æŒå¤§æ•°æ®** - å¼‚æ­¥å¤„ç†+æ•°æ®æŠ½ç¨€
 âœ… **ç”¨æˆ·ä½“éªŒå¥½** - æ’¤é”€/é‡åš,è¿›åº¦åé¦ˆ

------

è¿™ä»½è®¾è®¡æ–‡æ¡£æ˜¯å¦ç¬¦åˆä½ çš„éœ€æ±‚?æœ‰ä»€ä¹ˆåœ°æ–¹éœ€è¦è°ƒæ•´æˆ–ç»†åŒ–çš„å—? ğŸ˜Š