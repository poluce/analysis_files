═══════════════════════════════════════════════════════════════
  TG分析软件 - 动力学数据导入模块提取
═══════════════════════════════════════════════════════════════

提取日期: 2025-10-29
提取范围: 仅包含文件读取和数据导入的核心代码

───────────────────────────────────────────────────────────────
  目录结构
───────────────────────────────────────────────────────────────

kinetics_extraction/
│
├── src/                                      源代码文件
│   ├── form.cpp                              数据导入窗口实现 (274行)
│   ├── form.h                                数据导入窗口头文件 (58行)
│   ├── form.ui                               数据导入UI布局 (855行)
│   └── mainwindow_data_import_snippet.cpp    MainWindow数据接收代码片段
│
├── docs/                                     文档目录
│   └── 数据导入流程说明.md                   完整的流程说明文档
│
└── README.txt                                本文件

───────────────────────────────────────────────────────────────
  核心功能
───────────────────────────────────────────────────────────────

1. Form窗口（form.cpp/h/ui）
   ✓ 文件选择对话框（支持.txt, .csv）
   ✓ 文件内容自动解析
   ✓ 数据列映射配置
   ✓ 数据提交和传递

2. MainWindow接收（mainwindow_data_import_snippet.cpp）
   ✓ 接收Form发送的数据
   ✓ 数据格式转换
   ✓ 存储到dataList

───────────────────────────────────────────────────────────────
  数据流程
───────────────────────────────────────────────────────────────

用户点击"打开文件"
    ↓
Form窗口显示
    ↓
选择文件（TXT/CSV）
    ↓
自动解析文件内容
    ↓
用户配置列映射（温度/时间/信号/速率）
    ↓
点击"导入"
    ↓
构建QVariantMap数据
    ↓
emit dataReady信号
    ↓
MainWindow::onDataReady接收
    ↓
数据存储到dataList
    ↓
导入完成

───────────────────────────────────────────────────────────────
  支持的文件格式
───────────────────────────────────────────────────────────────

TXT文件：
  Temperature  Time   TG      DTG
  100.0       0.0    100.0   0.0
  150.0       50.0   98.5    -3.0

CSV文件：
  Temperature,Time,TG,DTG
  100.0,0.0,100.0,0.0
  150.0,50.0,98.5,-3.0

要求：
  • 表头：字母或中文开头
  • 数据：数字开头
  • 分隔符：CSV用逗号，TXT用空格

───────────────────────────────────────────────────────────────
  关键代码
───────────────────────────────────────────────────────────────

1. 文件解析 (form.cpp:49-144)
   - QFileDialog选择文件
   - QFile + QTextStream读取
   - 识别表头和数据行
   - 在tableWidget显示

2. 数据提交 (form.cpp:145-224)
   - 提取选定列
   - 构建QVariantMap
   - emit dataReady信号

3. 数据接收 (mainwindow_data_import_snippet.cpp)
   - onDataReady槽函数
   - 数据格式转换
   - 添加到dataList

───────────────────────────────────────────────────────────────
  Qt依赖
───────────────────────────────────────────────────────────────

Qt模块：
  • Qt5::Core
  • Qt5::Gui
  • Qt5::Widgets

主要类：
  • QFile, QTextStream - 文件读取
  • QFileDialog - 文件选择
  • QVariantMap - 数据存储
  • QTableWidget - 表格显示
  • QTreeWidget - 树状显示

───────────────────────────────────────────────────────────────
  文档说明
───────────────────────────────────────────────────────────────

详细文档请查看：
  docs/数据导入流程说明.md

包含内容：
  • 完整的流程图
  • 详细的代码说明
  • 数据格式要求
  • 重构建议

───────────────────────────────────────────────────────────────
  下一步工作
───────────────────────────────────────────────────────────────

1. □ 阅读 docs/数据导入流程说明.md
2. □ 理解form.cpp的文件解析逻辑
3. □ 理解数据传递机制（信号槽）
4. □ 根据需求进行重构

───────────────────────────────────────────────────────────────

提取完成！
这是一个精简版本，只包含数据导入的核心代码。

═══════════════════════════════════════════════════════════════
